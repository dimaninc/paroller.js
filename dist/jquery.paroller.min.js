!function(r){"use strict";"function"==typeof define&&define.amd?define("parollerjs",["jquery"],r):"object"==typeof module&&"object"==typeof module.exports?module.exports=r(require("jquery")):r(window.Zepto||window.jQuery||window.$)}(function(x){"use strict";var b=!1,y=function(){b=!1},k=function(r,t){return r.css({"background-position":"center "+-t+"px"})},z=function(r,t){return r.css({"background-position":-t+"px center"})},M=function(r,t,o){return"none"!==o||(o=""),r.css({"-webkit-transform":"translate3d(0, "+t+"px, 0)"+o,"-moz-transform":"translate3d(0, "+t+"px, 0)"+o,transform:"translate3d(0, "+t+"px, 0)"+o,transition:"transform linear","will-change":"transform"})},j=function(r,t,o){return"none"!==o||(o=""),r.css({"-webkit-transform":"translate3d(0, "+t+"px, 0, 0)"+o,"-moz-transform":"translate3d(0, "+t+"px, 0, 0)"+o,transform:"translate3d(0, "+t+"px, 0, 0)"+o,transition:"transform linear","will-change":"transform"})},q=function(r,t,o){var n=r.data("paroller-factor"),a=n||o.factor;if(t<576){var e=r.data("paroller-factor-xs"),i=e||o.factorXs;return i||a}if(t<=768){var c=r.data("paroller-factor-sm"),f=c||o.factorSm;return f||a}if(t<=1024){var l=r.data("paroller-factor-md"),s=l||o.factorMd;return s||a}if(t<=1200){var u=r.data("paroller-factor-lg"),d=u||o.factorLg;return d||a}if(t<=1920){var p=r.data("paroller-factor-xl"),h=p||o.factorXl;return h||a}return a},X=function(r,t){return Math.round(r*t)},H=function(r,t,o,n){return Math.round((r-o/2+n)*t)},L=function(r){return r.css({"background-position":"unset"})},S=function(r){return r.css({transform:"unset",transition:"unset"})};x.fn.paroller=function(h){var m=x(window),g=x(document),v=m.height(),w=g.height();return h=x.extend({factor:0,factorXs:0,factorSm:0,factorMd:0,factorLg:0,factorXl:0,type:"background",direction:"vertical"},h),this.each(function(){var a=x(this),e=x(a.data("paroller-viewport")||a),i=m.width(),c=a.offset().top,f=a.outerHeight(),r=a.data("paroller-type"),t=a.data("paroller-direction"),o=a.css("transform"),l=r||h.type,s=t||h.direction,u=q(a,i,h),d=X(c,u),p=H(c,u,v,f);"background"===l?"vertical"===s?k(a,d):"horizontal"===s&&z(a,d):"foreground"===l&&("vertical"===s?M(a,p,o):"horizontal"===s&&j(a,p,o));var n=function(r){var t=m.scrollTop(),o=t+(v=m.height());w=g.height(),i=m.width(),c=a.offset().top,f=a.outerHeight(),u=q(a,i,h);var n=e.offset().top;if(!(t<n+e.outerHeight()&&n<o))return!1;d="scroll"===r?Math.round((c-t)*u):Math.round(c*u),p="scroll"===r?Math.round((c-v/2+f-t)*u):Math.round((c-v/2+f)*u),b||(window.requestAnimationFrame(y),b=!0),"background"===l?("scroll"!==r&&L(a),"vertical"===s?k(a,d):"horizontal"===s&&z(a,d)):"foreground"===l&&t<=w&&("scroll"!==r&&S(a),"vertical"===s?M(a,p):"horizontal"===s&&j(a,p))};m.on("resize.paroller",function(){n("resize")}).on("scroll.paroller",function(){n("scroll")})})}});